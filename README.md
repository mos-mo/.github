# PC Monitoring System (gRPC 기반)

이 프로젝트는 중앙 서버를 통해 여러 Agent(피감시 PC)의 화면과 시스템 이벤트를 실시간으로 수집하고, Admin(관리자) 클라이언트를 통해 이를 실시간으로 모니터링하는 시스템이다. 모든 구성 요소는 gRPC를 통해 통신하며, 화면 데이터는 서버에 저장하지 않고 실시간 스트리밍으로만 전달된다.

## 구성 요소

### 1. Server

* gRPC 서비스의 중심 역할을 수행한다.
* Agent로부터 화면 프레임, 이벤트 로그 등의 데이터를 스트리밍으로 수신한다.
* Admin이 연결되어 있는 경우 해당 데이터를 실시간으로 전달한다.
* 연결 관리, 세션 인증, 다중 스트림 라우팅을 처리한다.

### 2. Agent

* 로컬 PC의 화면을 일정 주기로 캡처하여 인코딩 후 서버로 전송한다.
* 키보드/마우스 이벤트, 프린터 사용 내역, USB 연결 로그 등의 시스템 이벤트를 수집하여 서버로 전송한다.
* 서버와 gRPC 스트리밍 연결을 유지한다.
* 캡처한 데이터는 로컬에 저장하지 않는다.

### 3. Admin

* 서버에 연결하여 특정 Agent의 화면과 이벤트 로그를 실시간으로 수신한다.
* 여러 Agent 중 원하는 대상을 선택하여 모니터링할 수 있다.
* 화면 스트리밍, 이벤트 로그 표시, 알림 기능 등을 제공한다.

## 통신 구조

1. Agent → Server

   * 화면 프레임 스트리밍
   * 이벤트 로그 스트리밍

2. Server → Admin

   * 요청한 Agent의 화면 프레임 실시간 전송
   * 해당 Agent의 이벤트 로그 전송

3. 모든 통신은 gRPC 스트리밍 기반으로 동작하며, 서버는 중계자 역할만 수행한다.

## 개발 순서

1. Server 골격 구현

   * proto 파일 작성 및 gRPC 코드 생성
   * 서비스 인터페이스와 최소한의 RPC 핸들러 구현
   * 기본 연결/세션 관리 기능 추가

2. Admin 뷰어 개발

   * 서버로부터 테스트 데이터를 수신하여 UI 구현
   * 화면 표시 및 로그 출력 기능 개발

3. Agent 개발

   * 화면 캡처 및 인코딩 기능 구현
   * 이벤트 로그 수집 기능 구현
   * 서버로의 실시간 스트리밍 전송 기능 구현

## 기술 스택

* Go 1.22 이상
* gRPC-Go 최신 안정 버전
* Protocol Buffers v3
* HTTP/2 기반 통신
* 선택적: 인증을 위한 TLS/Mutual TLS

## 빌드 및 실행

1. proto 컴파일러와 Go gRPC 플러그인 설치
2. proto 파일 컴파일
3. 각 구성 요소(Server, Agent, Admin) 빌드
4. 서버 실행 후 Agent와 Admin 순으로 연결하여 테스트

## 보안 고려 사항

* 모든 gRPC 통신은 TLS로 암호화한다.
* Agent와 Admin은 인증 토큰 또는 인증서를 통해 식별한다.
* 서버는 민감 데이터를 저장하지 않고, 모든 화면 데이터는 실시간 전달 후 폐기한다.

---

이 구조로 README를 만들면 프로젝트 방향과 구성 요소의 역할이 명확하게 정리된다.

원하면 제가 이 README를 기반으로 **proto 설계 항목까지 바로 확장**해 줄 수 있다. 그렇게 하면 Server 개발을 시작할 수 있는 상태가 된다.
